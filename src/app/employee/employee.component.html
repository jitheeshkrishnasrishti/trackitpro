<div class="panel-header panel-header-sm">
</div>
<div class="main-content">

<div class="row">
    <div class="col-md-12">
      <div class="card">
        <div class="card-header">
          <h4 class="card-title"> All Employees</h4>
          <form class="inpur-search"> 
            <div class="search">
              <input id="myInput" type="text" [(ngModel)]="searchText"  name="myCountry" placeholder="Search here" class="form-control search-bar" >
              <div class="input-group-append">
                
              </div>
            </div>
            <div class="employee-btn">
            <button type="button" class="btn btn-info btn-lg" (click)=bulkQrcode()>Bulk QRcode</button>

            <button type="button" class="btn btn-info btn-lg" (click)=addEmployee()>Add Employee</button>
            </div>
          </form>
          
          <div class="dropdown">
            <button class="dropbtn">Sort</button>
            <div class="dropdown-content">
            <a (click)= listAtoZ()>A-Z</a>
            <a (click)= listZtoA()>Z-A</a>
           
            </div>
          </div>
        </div>
        <!-- <form autocomplete="off">
          <div class="autocomplete">
          </div>
        </form> -->
     

        <div class="card-body">
          <div class="table-responsive">
            <table class="table">
              <thead class=" text-primary">
                <th>
                  S.No
                </th>
                <th>
                  First Name
                </th>
                <th>
                  Last Name
                </th>
                <th>
                  Employee #
                </th>
                <th>
                  Details
                  </th>
                  <th>
                    Date Created
                  </th>
                  <th>
                    Expiration Date
                  </th>
                  <th>
                    Status
                    </th>
                    <th>
                      Division
                      </th>
                      <th>
                        Date of Joining
                        </th>
                <th class="text-right">
                  Action
                </th>
              </thead>
              <tbody>
                <!-- <tr   *ngFor="let menuItem of allEmployees"> -->

                <tr   *ngFor="let Employee of allEmployees  | filter: searchText  let index = index">
                  <td>
                    {{index+1}}
                   </td>
                  <td>
                   {{Employee.Emp_Fname}}
                  </td>
                  <td>
                    {{Employee.Emp_Lname}}
                   </td>
                  <td>
                    {{Employee.Emp_ProfileID}}
                   </td>
                  <td>
                    -
                  </td>
                  <td>
                    {{Employee.Updated_Time}}
                  </td>
                  <td>
                    -
                  </td>
                  <td>
                    {{Employee.Emp_Status}}
                  </td>
                  <td>
                    {{Employee.Div_Name}}
                  </td>
                  <td>
                    {{Employee.HireDate}}
                  </td>
                  <td class="text-right">
                    <div class="manage-buttons">
                    <button class="hidden-btn" (click)=viewEmployee(Employee) ><i class="now-ui-icons users_single-02" ></i></button>
                    <button class="hidden-btn" (click)=editEmployee(Employee)><i class="now-ui-icons design_scissors" ></i></button>
                    <button class="hidden-btn" (click)=deletePopUp(Employee)><i class="fas fa-trash-alt" ></i></button>
                    <button type="button" class="btn btn-primary mt-2" (click)=goTraining(Employee)>Trainings & Certications</button>
                      <button type="button" class="btn btn-primary mt-2" (click)=publicProfile(Employee)  >Public Profile</button>
                    <button type="button" class="btn btn-primary mt-2" (click)=printQRCode(Employee) >Print QR Code</button>
</div>
                  </td>
                </tr>
               
            </table>
          </div>
        </div>
      </div>
    </div>
   
  </div>
  </div>
  <button style="display:none" type="button" id="removeEmp" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myModal">Open Modal</button>
  <button style="display:none" type="button" id="messagePopUp" class="btn btn-info btn-lg" data-toggle="modal" data-target="#messageModal">Open Modal</button>
<!-- Modal -->
<div class="modal fade" id="messageModal" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Employee</h4>
        <button type="button" class="close" data-dismiss="modal"><span>x</span></button>

      </div>
      <div class="modal-body">
        <p>{{resMessage}}</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="Cancel btn btn-default" data-dismiss="modal">Ok</button>
      </div>
    </div>
  </div>
</div>
<!-- Modal -->
<div class="modal fade" id="myModal" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Delete Employee</h4>

        <button type="button" class="close" data-dismiss="modal"><span>x</span></button>
      </div>
      <div class="modal-body">
        <p>Are you sure you want to delete?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="Cancel btn btn-default" data-dismiss="modal">Cancel</button>
        <button type="button" class="Confirm btn btn-default" (click)=deleteEmployee() >Confirm</button>
      </div>
    </div>
  </div>
</div>
<button style="display:none" type="button" id="QRCodePrint" class="btn btn-info btn-lg" data-toggle="modal" data-target="#myQRCodeModal">Open Modal</button>

 <!--Print QR Code Modal -->
<div class="modal fade" id="myQRCodeModal" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">QR Code</h4>

        <button type="button" class="close" data-dismiss="modal"><span>x</span></button>
      </div>
      <div class="col-md-6">

      <div class="profile-head pt-4">
   
        <ngx-qrcode  id="qrcode"
        [elementType]="elementType" 
        [value] = "value"
        cssClass = "aclass"
        errorCorrectionLevel = "L">
  </ngx-qrcode>
  <button (click)="download()" class="btn btn-primary">Download PDF</button>

</div>
      </div>
      <div class="modal-footer">
        <button type="button" class="Cancel btn btn-default" data-dismiss="modal">OK</button>
      </div>
    </div>
  </div>
</div> 

<button style="display:none" type="button" id="publicPro" class="btn btn-info btn-lg" data-toggle="modal" data-target="#publicProModal">Open Modal</button>

 <!--Print QR Code Modal -->
<div class="modal fade" id="publicProModal" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Public Profile Link</h4>

        <button type="button" class="close" data-dismiss="modal"><span>x</span></button>
      </div>
      <div class="col-md-6">

      <div class="profile-head pt-4">
     
      <a href="{{publicLink}}" target="_blank">{{publicLink}}</a>

</div>
      </div>
      <div class="modal-footer">
        <button type="button" class="Cancel btn btn-default" data-dismiss="modal">OK</button>
      </div>
    </div>
  </div>
</div> 


<ngx-spinner bdColor="rgba(51, 51, 51, 0.8)" size="default" type="ball-spin-clockwise">  
  <p style="color: white">Please Wait. </p>  
  </ngx-spinner> 